

<nb-card>
  <nb-card-header>
    Liste des tests
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.2/css/all.css" integrity="sha384-oS3vJWv+0UjzBfQzYUhtDYW+Pj2yciDJxpsK1OYPAYjqT085Qq/1cq5FLXAZQ7Ay" crossorigin="anonymous">
  
  

  </nb-card-header>


 
  
  


  <nb-card-body>


      
      <div id="popup" style="margin-bottom:50px"><app-alerts ></app-alerts></div>
    
    <div>
        <i style="cursor: pointer ; font-size: 1.6rem; " class="fas fa-plus fa-2x" (click)="create()"> Ajouter </i>
    <ul style="position: relative; float: right">
      <i  class="fas fa-plus fa-2x" style="cursor: pointer; font-size: 1.6rem; position: relative; float: right "  (click)="duplication()"> duplication test </i>
    </ul>
  </div>
   

  <!--<div class="alert alert-danger" *ngIf="err==1">
 <strong> Ce test est liée à des sous categorie vous ne pouvez pas le supprimer!</strong>
    </div>-->
  
  <!--<ng-container *ngIf="err==1">
      <nb-alert status="danger" closable (close)="onClose()" style="position: absolute">
         
        </nb-alert>
    </ng-container>-->

    <table id="example2" class="my-3 table table-bordered table-hover dataTable" role="grid" aria-describedby="example2_info" style="text-align: center">
      <thead>
      <tr role="row">
       <!-- <th class="sorting_asc" tabindex="0" aria-controls="example2" rowspan="1" colspan="1" aria-sort="ascending" aria-label="id: activate to sort column descending">ID</th>-->
        <th class="sorting" tabindex="0" aria-controls="example2" rowspan="1" colspan="1" aria-label="name: activate to sort column ascending">Nom</th>
        <th class="sorting" tabindex="0" aria-controls="example2" rowspan="1" colspan="1" aria-label="activation: activate to sort column ascending">Date d'activation</th>
        <th class="sorting" tabindex="0" aria-controls="example2" rowspan="1" colspan="1" aria-label="expi: activate to sort column ascending">Date d'éxpiration</th>
        <th class="sorting" tabindex="0" aria-controls="example2" rowspan="1" colspan="1" aria-label="password: activate to sort column ascending">Mot de passe</th>
        <th class="sorting" tabindex="0" aria-controls="example2" rowspan="1" colspan="1" aria-label="action: activate to sort column ascending">Nombre de test</th>
        <th class="sorting" tabindex="0" aria-controls="example2" rowspan="1" colspan="1" aria-label="duree: activate to sort column ascending">Durée du test</th>
        <th class="sorting" tabindex="0" aria-controls="example2" rowspan="1" colspan="1" aria-label="test_subcategories_number: activate to sort column ascending">Action </th>
        <th class="sorting" tabindex="0" aria-controls="example2" rowspan="1" colspan="1" aria-label="affect: activate to sort column ascending">Affectation categorie</th>
        <th class="sorting" tabindex="0" aria-controls="example2" rowspan="1" colspan="1" aria-label="affectsub: activate to sort column ascending">Affectation sous categorie</th>
        <th class="sorting" tabindex="0" aria-controls="example2" rowspan="1" colspan="1" aria-label="test_subcategories_number: activate to sort column ascending">Generation fichier XML </th>
          </thead>
      <tbody>
      <tr *ngFor="let test of tests | paginate: { itemsPerPage: 7, currentPage: pageActuel }">
        <!--  <td (click)="getinfo(test)">{{test.id}}</td>-->
        <td ><a style="color:green ; cursor: pointer;text-decoration: underline" (click)="getinfo(test)">{{test.name}}</a></td>
          <td>{{test.activation_date | date: 'dd/MM/yyyy h:mm a'}}</td>
          <td>{{test.expiration_date | date: 'dd/MM/yyyy h:mm a'}}</td>

          <td>{{test.password}}</td>
          <td>{{test.test_subcategories_number}}</td>
          <td>{{test.duration}}</td>

          <td>
            <i style="cursor: pointer;color: #69737f;  display: inline-block;margin-right: 20px !important;" class="fas fa-trash fa-1x" (click)="deleteByid(test , template)"  ></i>

            <br><br>
            
            <ng-template #template>
              <div class="modal-body text-center">
                <p>veuillez confirmer la suppression?</p>
                <button type="button" class="btn btn-default" (click)="confirm(test)" >OUI</button>
                <button type="button" class="btn btn-primary" (click)="decline()" >NON</button>
              </div>
            </ng-template>

            <i class="fa fa-edit fa-1x" style="cursor: pointer;" style="color: #298a66;"(click)="updateTest(test)"></i>
          </td>

          <td>
            <i style="cursor: pointer;" class="fas fa-book fa-1x" style="color: #0bbb79;" (click)="affCatergorie(test)"></i>
          </td>
          <td><i class="fas fa-book fa-1x" style="cursor: pointer;" style="color: #0bbb79;" (click)="affSubCateg(test)"></i>
          </td>



        <td>

          <i style="cursor: pointer;color: #69737f;  display: inline-block;margin-right: 20px !important;" class="fas fa-download" (click)="telecharger(test)" ></i>


        </td>

        </tr>
        </tbody>
      </table>
      <pagination-controls
        (pageChange)="pageActuel = $event"
        previousLabel="Précédent"
        nextLabel="Suivant"
      ></pagination-controls>

    </nb-card-body>
  </nb-card>
  <style>
    i {
      margin : 20px 0;
    }
    .fas{
      margin: 10px 0;
    }

    /* Specific css for <Alert Type> */


/* Specific css for <Alert Type> */

  </style>
